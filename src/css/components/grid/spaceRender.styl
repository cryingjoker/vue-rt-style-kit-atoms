$vertical-direction_adaptive_device = (0 2 3)
$vertical-direction_index = (0 2 3)
$direction_names = 'v' 'h' 't' 'b' 'l' 'r'
$direction_props = (padding-top padding-bottom) (padding-left padding-right) (padding-top) (padding-bottom) (padding-left) (padding-right)
$device_types = 'laptop-upper-limit' 'desktop-lower-limit'  'tablet-upper-limit'  'mobile-upper-limit'
$device_types_code = '' 'lg' 'td' 'md'
vertivalAdaptive = json('../../../space-adaptive-map.json',{ hash: true })


renderProps(className, full_step,part_step,$direction)
  .{className}
    for $opt in $direction_props[$direction]
      {$opt} : unit(full_step*20+part_step*4,'px')

adaptiveSpaceRender(full_step,part_step, device_type)
  className = ''
  if device_type > 0
    className += $device_types_code[$vertical-direction_adaptive_device[device_type]]+'-'
  className+='a'
  className+='-sp'
  for i in 0 .. 2
    locClassName = className+''
    locClassName+='-'+$direction_names[$vertical-direction_index[i]]
    locClassName+='-'+full_step
    locClassName+='-'+part_step
    media = false
    if device_type>0
      media = '(max-width: '+lookup($device_types[device_type])+')'
    if media
      @media media
        renderProps(locClassName,full_step,part_step, $vertical-direction_index[i])
    else
      renderProps(locClassName,full_step,part_step, $vertical-direction_index[i])



sendToAdaptiveSpaceRender(value, index)
  full_step = parseInt(value/20)
  part_step = value%20/4
  adaptiveSpaceRender(full_step,part_step,index)

for sp in vertivalAdaptive
  line = vertivalAdaptive[sp]
  sendToAdaptiveSpaceRender(parseInt(sp), 0)
  for i in line
    sendToAdaptiveSpaceRender(parseInt(line[i]), parseInt(i)+1)


spaceRender()
  for $device_index in  0 .. 3
    media = ''
    if $device_types_code[$device_index]
      if $device_types_code[$device_index] == 'lg'
        media = '(min-width: '+lookup($device_types[$device_index])+')'
      else
        media = '(max-width: '+lookup($device_types[$device_index])+')'
    classRender()
      for $i in 0 .. 5
        for $j in 0 .. 4
          for $direction in 0 ..5
            if $i == 0 and $j == 0
              className = 'sp-'+$direction_names[$direction]+'-none'
            else
              if $j > 0
                className = 'sp-'+$direction_names[$direction]+'-'+$i+'-'+$j
              else
                className = 'sp-'+$direction_names[$direction]+'-'+$i
            if $device_types_code[$device_index]
              className = $device_types_code[$device_index] + '-' + className

            $space_value = $i*pixel-point*5+$j*pixel-point

            .{className}
              for $opt in $direction_props[$direction]
                {$opt}: $space_value
    if media
      @media media
        classRender()
    else
      classRender()

spaceRender()
